<div class="board" *ngIf="board$ | async as board">
  <!-- <h3 class="board-title">{{ board.board.title }}</h3> -->

  <div class="board-title" *ngIf="!isEditEnable" (click)="onEditBoardTitle()">{{ boardTitle$ | async }}</div>

  <form class="board-title__editable" *ngIf="isEditEnable" (ngSubmit)="onSubmitTitleBoard()"
    [formGroup]="titleBoardControlForm">
    <mat-form-field>
      <input class="board-title__input" name="title" matInput type="text" placeholder="Edit Board title" cdkFocusInitial
        formControlName="title" autocomplete="off" [(ngModel)]="titleBoard" [value]="titleBoard">

      <mat-error *ngIf="titleBoardControl.hasError('required')">{{ 'Errors.columnTitleRequired' | translate }}
      </mat-error>

    </mat-form-field>
    <button class="btn board-title__submit-btn" type="submit" [disabled]="!titleBoardControlForm.valid">
      <mat-icon>done</mat-icon>
    </button>
    <mat-icon class="btn board-title__close-btn" (click)="onCancel()">close</mat-icon>
  </form>

  <div *ngIf="columns$ | async as columns" class="board-wrapper" cdkDropListGroup>
    <div class="board-columns" *ngIf="columns.length !== 0" cdkDropList cdkDropListOrientation="horizontal"
      (cdkDropListDropped)="dropGrid($event)" [cdkDropListData]="columns$ | async">
      <app-column [columnIds]="columnIds$ | async" cdkDragLockAxis="x" [column]="column"
        *ngFor="let column of columns$ | async as columns" cdkDrag></app-column>
      <mat-icon class="btn add-column-btn" (click)="addColumn()">add_circle_outline</mat-icon>
    </div>
  </div>
  <div class="no-columns" *ngIf="columns$ | async as columns">
    <ng-container *ngIf="!columns.length">
      <div class="btn add-columns-btn">
        <button mat-raised-button color="primary" (click)="addColumn()">Add Column</button>
      </div>
      <img class="no-columns-img" src="assets/img/no-columns.png" alt="no-columns">
    </ng-container>
  </div>
  <div class="btn back-btn">
    <button [routerLink]="'/main'" mat-raised-button color="accent">{{ 'Board.back-btn' | translate }}</button>
  </div>
</div>